{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["import type { Meta, MilkdownPlugin } from '@milkdown/ctx'\nimport { dropCursor } from '@milkdown/prose/dropcursor'\nimport { gapCursor } from '@milkdown/prose/gapcursor'\nimport { $ctx, $prose } from '@milkdown/utils'\n\nfunction withMeta<T extends MilkdownPlugin>(\n  plugin: T,\n  meta: Partial<Meta> & Pick<Meta, 'displayName'>\n): T {\n  Object.assign(plugin, {\n    meta: {\n      package: '@milkdown/plugin-cursor',\n      ...meta,\n    },\n  })\n\n  return plugin\n}\n\n/// @internal\nexport interface DropCursorOptions {\n  /**\n    The color of the cursor. Defaults to `black`.\n   */\n  color?: string | false\n  /**\n    The precise width of the cursor in pixels. Defaults to 1.\n   */\n  width?: number\n  /**\n    A CSS class name to add to the cursor element.\n   */\n  class?: string\n}\n\n/// A slice that contains [options for drop cursor](https://github.com/ProseMirror/prosemirror-dropcursor#documentation).\nexport const dropCursorConfig = $ctx<DropCursorOptions, 'dropCursorConfig'>(\n  {},\n  'dropCursorConfig'\n)\n\nwithMeta(dropCursorConfig, {\n  displayName: 'Ctx<dropCursor>',\n})\n\n/// This plugin wraps [drop cursor](https://github.com/ProseMirror/prosemirror-dropcursor).\nexport const dropCursorPlugin = $prose((ctx) =>\n  dropCursor(ctx.get(dropCursorConfig.key))\n)\n\nwithMeta(dropCursorPlugin, {\n  displayName: 'Prose<dropCursor>',\n})\n\n/// This plugin wraps [gap cursor](https://github.com/ProseMirror/prosemirror-gapcursor).\nexport const gapCursorPlugin = $prose(() => gapCursor())\n\nwithMeta(gapCursorPlugin, {\n  displayName: 'Prose<gapCursor>',\n})\n\n/// All plugins exported by this package.\nexport const cursor: MilkdownPlugin[] = [\n  dropCursorConfig,\n  dropCursorPlugin,\n  gapCursorPlugin,\n]\n"],"names":["withMeta","plugin","meta","dropCursorConfig","$ctx","dropCursorPlugin","$prose","ctx","dropCursor","gapCursorPlugin","gapCursor","cursor"],"mappings":";;;AAKA,SAASA,EACPC,GACAC,GACG;AACH,gBAAO,OAAOD,GAAQ;AAAA,IACpB,MAAM;AAAA,MACJ,SAAS;AAAA,MACT,GAAGC;AAAA,IAAA;AAAA,EACL,CACD,GAEMD;AACT;AAmBO,MAAME,IAAmBC;AAAA,EAC9B,CAAC;AAAA,EACD;AACF;AAEAJ,EAASG,GAAkB;AAAA,EACzB,aAAa;AACf,CAAC;AAGM,MAAME,IAAmBC;AAAA,EAAO,CAACC,MACtCC,EAAWD,EAAI,IAAIJ,EAAiB,GAAG,CAAC;AAC1C;AAEAH,EAASK,GAAkB;AAAA,EACzB,aAAa;AACf,CAAC;AAGM,MAAMI,IAAkBH,EAAO,MAAMI,EAAW,CAAA;AAEvDV,EAASS,GAAiB;AAAA,EACxB,aAAa;AACf,CAAC;AAGM,MAAME,IAA2B;AAAA,EACtCR;AAAA,EACAE;AAAA,EACAI;AACF;"}